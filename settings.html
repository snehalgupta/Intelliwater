<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="./material.min.css">
    <link rel="stylesheet" href="./mycss.css">
    <script src="./material.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script type="text/javascript">
   
    window.onload = getLocation;

    function onoff(){
      currentvalue=document.getElementById('onoff').value;
      if(currentvalue == "OFF"){
        document.getElementById('onoff').value="ON";
        writeTextFile("\"Status\" : \"OFF\"");
      }
      else{
        document.getElementById('onoff').value="OFF";
        writeTextFile("\"Status\" : \"ON\"");
      }
    }
    function writeTextFile(output){
      var fso=new ActiveXObject("Scripting.FileSystemObject");
      var fh=fso.CreateTextFile("C:\\Users\\Snehal\\Desktop\\IntelliWater frontend\\settings.txt",true);
      fh.WriteLine(output);
      
      fh.close();
    }
    function getLocation(){
      var x=document.getElementById("ki");
      if(navigator.geolocation){
        navigator.geolocation.watchPosition(showPosition);
      }
      else{
        x.innerHTML="geolocation is not supported by the browser";
      }
    }
    function showPosition(position){
      var lat=position.coords.latitude;
      var long=position.coords.longitude;
      var url="http://api.openweathermap.org/data/2.5/weather?lat="+lat+"&lon="+long+"&APPID=3e8d4059ab2a8cd35d449b90a307a1fc";
       $.ajax({
       dataType: "jsonp",
       url: url,
       method:"GET",
      jsonCallback: 'jsonp',
       cache: false,
      success: function (data) {
         var r=document.getElementById("ka");
         r.innerHTML=data.weather[0].description;
         var r=document.getElementById("ki");
         r.innerHTML=data.name;
       },
      error: function(data) {
        alert("OOPS");
       }
      });
       
}


    </script>
    <link rel="stylesheet"  href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <title></title>
</head>
<body>
<!-- Always shows a header, even in smaller screens. -->
<div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
  <header class="mdl-layout__header">
    <div class="mdl-layout__header-row">
      <!-- Title -->
      <span class="heading-1"><img class="mdl-button mdl-button-squarer" disabled src="./logo.png">IntelliWater</span>
      <!-- <div class="mdl-layout-spacer"></div> -->
      <span class="mdl-layout-title-center topcenterHeading"><div class="topcenterHeading"><h4>SETTINGS</h4></div></span>
      <!-- Add spacer, to align navigation to the right -->
      <span class="mdl-layout-title-center">
      <!-- Accent-colored raised button with ripple -->
      <span class="mdl-layout-title-center">   </span><a href="./index%20(1).html">
      <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent">
        HOME
      </button></a>
      <!-- Accent-colored raised button with ripple -->
     <input class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent" value="ON" id="onoff" onclick="onoff();" style="background-color: #f44336; ">
      </span>
    </div>
  </header>
   <main class="mdl-layout__content">
    <div class="page-content">
    <!-- Your content goes here -->
    <div class="mdl-tabs mdl-js-tabs mdl-js-ripple-effect">
      <div class="mdl-tabs__tab-bar">
          <a href="#starks-panel" class="mdl-tabs__tab is-active">View Node Requirements</a>
          <a href="#lannisters-panel" class="mdl-tabs__tab">Set Node Requirements</a>
          <a href="#targaryens-panel" class="mdl-tabs__tab">Other Settings</a>
      </div>

      <div class="mdl-tabs__panel is-active" id="starks-panel">
      <div class="container">
      <style>
      .demo-list-item {
        width: 300px;
      }
      </style>
      <table class="mdl-data-table mdl-js-data-table" style="margin-left:auto; margin-right:auto;">
      <ul class="demo-list-item mdl-list">
          <thead>
              
          </thead>
          <tbody>
              <tr>
                  <td>
                      <li class="mdl-list__item">
                        <span class="mdl-list__item-primary-content">
                          <h6 >Select node</h6>
                        </span>
                      </li>
                  </td>
                  <td><h5>:</h5></td>
                  <td><!-- <h6 id="ki"> </h6> -->
                    <!-- Numeric Textfield with Floating Label -->
                    <form action="#">
                      <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                        <input class="mdl-textfield__input" type="text" pattern="-?[0-9]*(\.[0-9]+)?" id="sample4">
                        <label class="mdl-textfield__label" for="sample4">Number...</label>
                        <span class="mdl-textfield__error">Input is not a number!</span>
                      </div>
                    </form>
                    <button class="mdl-button mdl-js-button mdl-button--raised">
                      Continue
                    </button>
                  </td>
              </tr>
              <tr>
                  <td colspan="3">
                      <!-- li class="mdl-list__item">
                        <span class="mdl-list__item-primary-content">
                          <h6 >Weather Description</h6>
                        </span>
                      </li> -->
                      <table class="mdl-data-table mdl-js-data-table" style="width:100%; margin-left:auto; margin-right:auto;">
                      <ul class="demo-list-item mdl-list">
                          <thead>
                              
                          </thead>
                          <tbody>
                              <tr>
                                  <td>
                                      <li class="mdl-list__item">
                                        <span class="mdl-list__item-primary-content">
                                          <h6>Node number</h6>
                                        </span>
                                      </li>
                                  </td>
                                  <td><h5>:</h5></td>
                                  <td>25</td>
                              </tr>
                              <tr>
                                  <td>
                                      <li class="mdl-list__item">
                                        <span class="mdl-list__item-primary-content">
                                          <h6>Moisture requirement</h6>
                                        </span>
                                      </li>
                                  </td>
                                  <td><h5>:</h5></td>
                                  <td>650</td>
                              </tr>
                              <tr>
                                  <td>
                                      <li class="mdl-list__item">
                                        <span class="mdl-list__item-primary-content">
                                          <h6>Current moisture level</h6>
                                        </span>
                                      </li>
                                  </td>
                                  <td><h5>:</h5></td>
                                  <td>450</td>
                              </tr>
                          </tbody>
                      </ul>
                      </table>
                  </td>
                  <!-- <td><h5>:</h5></td> --><!-- 
                  <td><h6 id="ka" ></h6></td> -->
              </tr>
          </tbody>
      </ul>
      </table>
      </div>
      </div>
      <div class="mdl-tabs__panel" id="lannisters-panel">
      <div class="container">
      <style>
      .demo-list-item {
        width: 300px;
      }
      </style>
      <table class="mdl-data-table mdl-js-data-table" style="margin-left:auto; margin-right:auto;">
      <ul class="demo-list-item mdl-list">
          <thead>
              
          </thead>
          <tbody>
              <tr>
                  <td>
                      <li class="mdl-list__item">
                        <span class="mdl-list__item-primary-content">
                          <h6 >Select node(s)</h6>
                        </span>
                      </li>
                  </td>
                  <td><h5>:</h5></td>
                  <td><!-- <h6 id="ki"> </h6> -->
                    <!-- Numeric Textfield with Floating Label -->
                    <form action="#">
                      <div class="mdl-textfield mdl-js-textfield">
                        <textarea class="mdl-textfield__input" type="text" rows= "3" id="sample5" ></textarea>
                        <label class="mdl-textfield__label" for="sample5">Comma seperated values of nodes</label>
                      </div>
                    </form>
                    <button class="mdl-button mdl-js-button mdl-button--raised">
                      Continue
                    </button>
                  </td>
              </tr>
              <tr>
                  <td>
                      <li class="mdl-list__item">
                        <span class="mdl-list__item-primary-content">
                          <h6 >Set Water Requirement at</h6>
                        </span>
                      </li>
                  </td>
                  <td><h5>:</h5></td>
                  <td><!-- <h6 id="ki"> </h6> -->
                    <!-- Numeric Textfield with Floating Label -->
                    <form action="#">
                      <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                        <input class="mdl-textfield__input" type="text" pattern="-?[0-9]*(\.[0-9]+)?" id="sample4">
                        <label class="mdl-textfield__label" for="sample4">Number...</label>
                        <span class="mdl-textfield__error">Input is not a number!</span>
                      </div>
                    </form> 
                    <button class="mdl-button mdl-js-button mdl-button--raised">
                      Done
                    </button>
                  </td>
              </tr>
          </tbody>
      </ul>
      </table>
      </div>
      </div>
      </div>
      <div class="mdl-tabs__panel" id="targaryens-panel">
      <div class="container">
      </div>
      </div>
    </div>
    </div>
  </main>
  </div>
</body>
</html>